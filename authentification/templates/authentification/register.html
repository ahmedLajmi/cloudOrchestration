

{% extends 'base.html' %}
{% load staticfiles %}

{% block mytitle %} Register {% endblock %}

{% block mylink %}
    <link rel="stylesheet" href="{% static 'css/style_login.css' %}">
{% endblock %}


{% block mybody%}



{% if request.user.get_username %}

  <div id="header" class="header">
    <div class="container">
       <div class="row">
        <br> <br>
         <center> <h1> Welcome, {{ request.user.get_username }}</h1>  </center> 
         <center> <hr class="separator"> </center>
         <center> <h2>You are already connected </h2> </center>
        </div>
    </div>
</div>

 {% else %}

 <div id="login" class="login">
     

<div class="container">
    <div class="row">
      
          
      <div id="registerbox" style="margin-top:80px;" class="col-md-4 col-md-offset-4">
        <div class="panel panel-default">
         
             <div style="color: blue; background-color: #FFFFCC;" class="panel-heading">
                        <div class="panel-title"><center><h4>Sign up now</h4></center></div>
                        
                    </div>     
        
          <div  style="padding-top:30px"  class="panel-body">
             <div id="registeralert" style="display:none" class="alert alert-danger">
                                    <p>Error:</p>
                                    <span></span>
                                </div>


             <form class="form-horizontal" role="form" action="" method="post" enctype="multipart/form-data"> <!-- to upload many files -->
<!--                        action nothing because it is redirected to the same view , handle behind the scenes
-->                     {% csrf_token %}   <!--  for common security practises-->
                        
                <div class="form-group">
                    <div class="col-sm-offset-1 col-sm-10">
                         <span style="color: red;" class="text-danger large">{{ form.username.errors }}</span>
                    </div>
                    <div style="margin-bottom: 15px" class="input-group">
                        <span class="input-group-addon"><i class="fa fa-user fa" aria-hidden="true"></i></span>
                         {{ form.username }}                                        
                    </div>

                    <div class="col-sm-offset-1 col-sm-10">
                         <span style="color: red;" class="text-danger large">{{ form.email.errors }}</span>
                    </div>
                   <div style="margin-bottom: 15px" class="input-group">
                        <span class="input-group-addon"><i class="fa fa-envelope fa" aria-hidden="true"></i></span>
                         {{ form.email }}    
                   </div>
                    
                    <div class="col-sm-offset-1 col-sm-10">
                         <span style="color: red;" class="text-danger large">{{ form.name.errors }}</span>
                    </div>                
                   <div style="margin-bottom: 15px" class="input-group">
                        <span class="input-group-addon"><i class="fa fa-users fa" aria-hidden="true"></i></span>
                        {{ form.name }}
                    </div>

                    <div class="col-sm-offset-1 col-sm-10">
                         <span style="color: red;" class="text-danger large">{{ form.password.errors }}</span>
                    </div>
                    <div style="margin-bottom: 15px" class="input-group">
                         <span class="input-group-addon"><i class="fa fa-lock fa-lg" aria-hidden="true"></i></span>
                        {{ form.password }}  
                    </div>
                    
                    <div class="col-sm-offset-1 col-sm-10">
                         <span style="color: red;" class="text-danger large">{{ form.password2.errors }}</span>
                    </div>
                   <div style="margin-bottom: 15px" class="input-group">
                        <span class="input-group-addon"><i class="fa fa-lock fa-lg" aria-hidden="true"></i></span>
                        {{ form.password2 }}
                    </div>
                       
                 </div>              
                        
                           <!-- im pass 2 fields -->
                                <button type="submit" class="btn btn-lg btn-success btn-block">Sign Up</button>
                          
                       
            </form>
            
                    
                    <center><h4>OR</h4></center>
                    <input class="btn btn-lg btn-primary btn-block" type="submit" value="Sign Up with Facebook">

                     <div class="form-group">
                                    <div class="col-md-12 control">
                                        <div style="border-top: 1px solid#888; padding-top:15px; font-size:85%" >
                                            You have an account! 
                                        <a href="#" onClick="location.href = '{% url 'authentification:login' %}';">
                                           &nbsp; Sign In Here
                                        </a>
                                        </div>
                                    </div>
                                </div>
        </div>
      </div>    

    </div>
     
  </div>
</div>
<br><br><br><br><br><br><br><br>


 </div>

<!---- End Register ---->



{% endif %}


 <script type="text/javascript">
        setTimeout(function () {
            $('#div_msg').fadeOut('fast');
        }, 5000);
 </script>

{% endblock %}


